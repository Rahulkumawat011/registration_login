<!DOCTYPE html>
<html lang="en">
<head>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <meta charset="UTF-8">
    <title>Title</title>
     <style>table,tr,th,td{border:2px solid black}
         table{width:1350px}
    </style>
</head>
<body>
        <!-- The Modal -->
                <div class="modal" id="id_delete_student_model">
                  <div class="modal-dialog">
                    <div class="modal-content">
                        <h5 style="color:black;">Delete data</h5>

                      <!-- Modal Header -->
                      <div class="modal-header">
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                      </div>

                      <!-- Modal body -->
                      <div class="modal-body" style="color:black;" >
                          are you sure delete this user
                      </div>

                      <!-- Modal footer -->
                      <div class="modal-footer">
                        <button  type="button" class="btn btn-success" data-bs-dismiss="modal">Close</button>
                       <a href=" " id="delete_user" type="button" class="btn btn-danger">  Delete</a>
                      </div>

                    </div>
                  </div>
                </div>
    <form method="GET">
            <input type="text" name="search"  placeholder="click to search"><br><br>
            <button>submit</button><br><br>
        </form>
        <table class="table table-secondary">
            <tr>
                <th>first_name</th>
                <th>last_name</th>
                <th>email</th>
                <th>phone_number</th>
                <th>age</th>
                <th>delete</th>
                <th>edit</th>
        <!--        <button class="ui-btn ui-icon-edit ui-btn-icon-left">Edit Button</button>-->
            {% for student in students %}
            <tr>
                <td>{{ student.first_name }}</td>
                <td>{{ student.last_name }}</td>
                <td>{{ student.email }}</td>
                <td>{{ student.phone_number }}</td>
                <td>{{ student.age }}</td>
    <!--        # confirm delete ki jgh delete -->
<!--                <td><a class="btn btn-danger" href="/confirm_delete/{{student.id}}">delete</a></td>-->
                <td>
<!--# model popup past hoga-->

          <button type="button" class="btn btn-danger delete_btn"  data-bs-toggle="modal" data-student_url="/delete/{{student.id}}" data-student_id="{{student.id}}" data-bs-target="#delete_student{{student.id}}">
            Delete
          </button>
        </div>


                </td>
                <td><a class="btn btn-success" href="/update/{{student.id}}">update</a></td>
        <!--        <td><button class="ui-btn ui-icon-edit ui-btn-icon-left">Edit</button></td>-->
        <!--        <td><button class="ui-btn ui-icon-edit ui-btn-icon-left">Delete</button></td>-->

            </tr>
             {% endfor %}
        </table><br>
        <a class="btn btn-primary" href="http://127.0.0.1:8000/create_user">add new user</a>


<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script>
    console.log("hello hii")
    $(document).ready(function(){
  $(".delete_btn").click(function(){
  student=$(this).attr('data-student_id')
  student_url=$(this).attr('data-student_url')
  console.log(student)
  console.log(student_url)
  $('#delete_user').attr("href",student_url);
   $("#id_delete_student_model").modal('show');

  });
});
</script>

</body>
</html>